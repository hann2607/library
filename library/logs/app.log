2024-01-30 13:33:52,445 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-01-30 13:33:52,480 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LibraryApplication using Java 17.0.5 with PID 10812 (E:\Project\library\library\target\classes started by HAN-PC in E:\Project\library\library)
2024-01-30 13:33:52,483 DEBUG o.s.b.StartupInfoLogger [restartedMain] Running with Spring Boot v3.2.2, Spring v6.1.3
2024-01-30 13:33:52,486 INFO o.s.b.SpringApplication [restartedMain] The following 1 profile is active: "dev"
2024-01-30 13:33:52,521 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-01-30 13:33:52,521 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-01-30 13:33:53,278 INFO o.s.c.i.s.PropertySourceProcessor [restartedMain] Properties location [classpath:META-INF/build-info.properties] not resolvable: class path resource [META-INF/build-info.properties] cannot be opened because it does not exist
2024-01-30 13:33:53,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2024-01-30 13:33:53,532 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-01-30 13:33:53,572 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,574 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,577 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.AuthorRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,581 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,582 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.CategoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,584 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.CustomerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,587 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.LoanDetailRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,588 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.LoanRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,590 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.NationalityRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,591 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.RoleRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,594 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.SessionRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,596 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JDBC - Could not safely identify store assignment for repository candidate interface net.sparkminds.library.repository.VerifyRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-01-30 13:33:53,597 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 60 ms. Found 0 JDBC repository interfaces.
2024-01-30 13:33:53,608 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2024-01-30 13:33:53,610 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-01-30 13:33:53,660 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 44 ms. Found 12 JPA repository interfaces.
2024-01-30 13:33:54,336 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port 8080 (http)
2024-01-30 13:33:54,345 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2024-01-30 13:33:54,347 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2024-01-30 13:33:54,347 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.18]
2024-01-30 13:33:54,393 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2024-01-30 13:33:54,393 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1871 ms
2024-01-30 13:33:54,526 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2024-01-30 13:33:54,784 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@527cb65f
2024-01-30 13:33:54,785 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2024-01-30 13:33:55,410 INFO l.l.c.JavaLogger [restartedMain] Reading from db_library.databasechangelog
2024-01-30 13:33:55,461 INFO l.l.c.JavaLogger [restartedMain] Database is up to date, no changesets to execute
2024-01-30 13:33:55,464 INFO l.l.c.JavaLogger [restartedMain] Reading from db_library.databasechangelog
2024-01-30 13:33:55,476 INFO l.l.c.JavaLogger [restartedMain] UPDATE SUMMARY
2024-01-30 13:33:55,476 INFO l.l.c.JavaLogger [restartedMain] Run:                          0
2024-01-30 13:33:55,477 INFO l.l.c.JavaLogger [restartedMain] Previously run:              11
2024-01-30 13:33:55,477 INFO l.l.c.JavaLogger [restartedMain] Filtered out:                 0
2024-01-30 13:33:55,477 INFO l.l.c.JavaLogger [restartedMain] -------------------------------
2024-01-30 13:33:55,477 INFO l.l.c.JavaLogger [restartedMain] Total change sets:           11
2024-01-30 13:33:55,479 INFO l.l.c.JavaLogger [restartedMain] Update summary generated
2024-01-30 13:33:55,498 INFO l.l.c.JavaLogger [restartedMain] Successfully released change log lock
2024-01-30 13:33:55,499 INFO l.l.c.JavaLogger [restartedMain] Command execution complete
2024-01-30 13:33:55,581 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-01-30 13:33:55,628 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.4.1.Final
2024-01-30 13:33:55,658 INFO o.h.c.i.RegionFactoryInitiator [restartedMain] HHH000026: Second-level cache disabled
2024-01-30 13:33:55,854 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-01-30 13:33:56,994 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-01-30 13:33:57,118 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-01-30 13:33:57,505 DEBUG o.s.w.f.GenericFilterBean [restartedMain] Filter 'jwtFilter' configured for use
2024-01-30 13:33:58,107 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-01-30 13:33:58,928 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27cf1352, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@175a4983, org.springframework.security.web.context.SecurityContextHolderFilter@1069ddec, org.springframework.security.web.header.HeaderWriterFilter@52b5dcc9, org.springframework.web.filter.CorsFilter@386f279b, org.springframework.security.web.authentication.logout.LogoutFilter@648c60f4, net.sparkminds.library.jwt.JwtFilter@2ac75ad3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ae3c4bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24bac51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2129b504, org.springframework.security.web.session.SessionManagementFilter@32129f43, org.springframework.security.web.access.ExceptionTranslationFilter@1c428abc, org.springframework.security.web.access.intercept.AuthorizationFilter@7dea4e15]
2024-01-30 13:33:59,594 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2024-01-30 13:33:59,631 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2024-01-30 13:33:59,650 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port 8080 (http) with context path ''
2024-01-30 13:33:59,659 INFO o.s.b.StartupInfoLogger [restartedMain] Started LibraryApplication in 7.495 seconds (process running for 8.389)
2024-01-30 13:34:20,352 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-01-30 13:34:20,353 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-01-30 13:34:20,354 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-01-30 13:34:21,077 INFO o.s.a.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 402 ms
2024-01-30 13:35:12,824 INFO n.s.l.s.i.AuthenticationServiceImpl [http-nio-8080-exec-5] Update Account Successfully: Admin [fullname=Nguyễn Văn A, position=Manage]
2024-01-30 13:35:12,915 INFO n.s.l.s.i.AuthenticationServiceImpl [http-nio-8080-exec-5] Insert Session Successfully: Session [id=4, refreshToken=8c56a855-6e0d-4436-9877-0f3679b80e0f, refreshExpirationTime=2024-02-29T13:35:12]
2024-01-30 13:35:13,758 INFO n.s.l.s.i.AuthenticationServiceImpl [http-nio-8080-exec-1] Update Account Successfully: Admin [fullname=Nguyễn Văn A, position=Manage]
2024-01-30 13:35:13,767 INFO n.s.l.s.i.AuthenticationServiceImpl [http-nio-8080-exec-1] Insert Session Successfully: Session [id=5, refreshToken=ee03c9d9-4dce-4e3a-b96e-8e30e503c895, refreshExpirationTime=2024-02-29T13:35:13]
2024-01-30 13:35:26,342 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-6] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:35:26,365 INFO n.s.l.s.i.BookCsvImportServiceImpl [http-nio-8080-exec-6] Insert Book Successfully: Book [id=26, title=abc, description=abc, totalPages=12, availableCopies=11, language=VN, coverImageUrl=/images/books/12010652-9206-456e-a9f4-e2cd0906367d1706596526338default.jpg, publisher=abc, price=10000, status=ACTIVE]
2024-01-30 13:35:26,365 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-6] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc1df, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:35:26,373 INFO n.s.l.s.i.BookCsvImportServiceImpl [http-nio-8080-exec-6] Insert Book Successfully: Book [id=27, title=abc1df, description=abc1, totalPages=12, availableCopies=11, language=VN, coverImageUrl=/images/books/ed0d8bd4-474a-4850-997a-2777c6ee79b61706596526342default.jpg, publisher=abc1, price=10000, status=ACTIVE]
2024-01-30 13:37:35,129 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-8] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:37:35,155 INFO n.s.l.s.i.BookManaServiceImpl [http-nio-8080-exec-8] Insert Book Successfully: Book [id=28, title=abc, description=abc, totalPages=1, availableCopies=1, language=VN, coverImageUrl=/images/books/b23a5774-2336-498c-8e28-ad15ba3e661a1706596655139tree-736885_1280.jpg, publisher=abc, price=10000, status=ACTIVE]
2024-01-30 13:37:35,955 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-10] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:37:35,961 ERROR n.s.l.s.i.BookManaServiceImpl [http-nio-8080-exec-10] Book title is exists: abc
2024-01-30 13:37:35,964 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8080-exec-10] Resolved [net.sparkminds.library.exception.RequestException: Book title is exists]
2024-01-30 13:38:23,674 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-5] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:38:23,713 INFO n.s.l.s.i.BookManaServiceImpl [http-nio-8080-exec-5] Update Book Successfully: {} Book [id=28, title=abc, description=abc123, totalPages=100, availableCopies=10, language=VN, coverImageUrl=/images/books/e0efe84b-95d3-48f9-843a-535e0c7527821706596703689tree-736885_1280.jpg, publisher=NXB Kim Đồng, price=100000, status=ACTIVE]
2024-01-30 13:38:24,433 DEBUG n.s.l.s.q.BookQueryService [http-nio-8080-exec-1] find book by criteria : BookCriteria [id=null, title=StringFilter [equals=abc, ], description=null, totalPages=null, availableCopies=null, language=null, publisher=null, price=null, status=null, createdAt=null, updatedAt=null, createdBy=null, updatedBy=null]
2024-01-30 13:38:24,455 INFO n.s.l.s.i.BookManaServiceImpl [http-nio-8080-exec-1] Update Book Successfully: {} Book [id=28, title=abc, description=abc123, totalPages=100, availableCopies=10, language=VN, coverImageUrl=/images/books/68ded14e-ae23-4362-a5bf-85e44daa11481706596704443tree-736885_1280.jpg, publisher=NXB Kim Đồng, price=100000, status=ACTIVE]
